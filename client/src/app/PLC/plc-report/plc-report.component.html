<div class="sticky-div">
    <tabset class="member-tabset">
        <tab heading='Upload Files'>
            <app-file-manager [fileVersion]="fileVersion"></app-file-manager>
        </tab>
        <tab heading='Prescriptions'>
            <table class="table table-condensed">
                <thead>
                    <tr>
                      <th *ngFor="let header of getPRHeaders()">{{header | titlecase}}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let presc of prescriptionReport">           
                      <td *ngFor="let key of getPRHeaders()">{{presc[key]}}</td>
                    </tr>
                  </tbody>
            </table>
        </tab>
        <tab heading='Sales'>
          <table class="table table-condensed">
            <thead>
                <tr>
                  <th *ngFor="let header of getSPHeaders()">{{header | titlecase}}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let sched of schedulePaymentReports">           
                  <td *ngFor="let key of getSPHeaders(); index as i">{{i < 3 ? (sched[key]) : (sched[key] | currency: 'GBP')}}</td>
                </tr>
              </tbody>
        </table>
        </tab>
        <tab heading='Gross Profit'>     
          <div>
            <label for="noYear">Number of Year Projections</label>&nbsp;   
            <mat-form-field>
              <input matInput [(ngModel)]="noYear" (ngModelChange)="changeColumns()">
            </mat-form-field>        
            &nbsp;&nbsp;
            <label for="startYear">Starting Year</label>    &nbsp;     
            <mat-form-field>
              <input matInput [(ngModel)]="startYear" (ngModelChange)="changeColumns()">
            </mat-form-field>         
          </div>     
          <table class="table table-condensed">
            <thead>
                <tr>
                  <th *ngFor="let item of Years">{{item}}</th>
                </tr>
              </thead>
              <tbody>
                <tr>           
                  <td *ngFor="let item of Years; index as idx"><p *ngIf="idx === 0">OTC Sales</p><input matInput *ngIf="idx !== 0" [(ngModel)]="YearVal[0][idx]" value=0></td>
                </tr>
                <tr>           
                  <td *ngFor="let item of Years; index as idx"><p *ngIf="idx === 0">NHS Sales</p><input matInput *ngIf="idx !== 0" [(ngModel)]="YearVal[1][idx]" value=0></td>
                </tr>
                <tr>           
                  <td *ngFor="let item of Years; index as idx"><strong>{{idx === 0 ? "Total cost of sales" : getTotal(idx)}}</strong></td>
                </tr>
              </tbody>
        </table>
        </tab>
        <tab heading='Expenses'>
          <div class="container">
            <h2>Please add your manual inputs here</h2>
            <div *ngFor="let entry of EntriesArray.controls; last as isLast; index as idx" class="input-row">
                <mat-form-field>
                  <input matInput [formControl]='LabelsArray.controls[idx]' placeholder="label">
                </mat-form-field>
              <mat-form-field>
                <input matInput [formControl]="entry" (ngModelChange)="saveExpense()" placeholder="input data">
              </mat-form-field>
              <button mat-icon-button color="warn" (click)="removeInputControl(idx)" *ngIf="EntriesArray.length > 1">
                <mat-icon>remove_circle</mat-icon>
              </button>
              <button mat-icon-button color="primary" *ngIf="isLast" (click)="addInputControl()">
                <mat-icon>add_circle</mat-icon>
              </button>
            </div>
            <strong for="grossProfit">Gross Profit/Loss: </strong>&nbsp;{{gross | currency: 'GBP'}}
            <div>
              <strong>Total:&nbsp; {{Expense | currency: 'GBP'}}</strong>
          </div>
            <button class="btn btn-success mr-2" (click)="saveExpense()" type="submit">Save Data</button>
          </div>
        </tab>
        <tab heading='Inflation'>
        </tab>
    </tabset>
</div>